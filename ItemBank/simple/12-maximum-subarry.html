<script>
    /**
     * 给定一个整数数组 nums ，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。
     *  eg: 
     *      输入: [-2,1,-3,4,-1,2,1,-5,4],
     *      输出: 6
     *      解释: 连续子数组 [4,-1,2,1] 的和最大，为 6。
     * */    

    var maxSubArray = function (nums) {
        var maxn = -Number.MAX_VALUE;
        var sum = 0;
        nums.forEach((item, index, list) => {
            sum += item;
            //这里也保证了无论如何都能取到一个数
            if (sum > maxn) {
                maxn = sum;
            }
            //重点在于这里的处理，整数才能执行下次的叠加，负数的话也就没必要相加，以免越加越小
            if (sum < 0) {
                sum = 0;
            }
        });
        return maxn;
    };
    var arr = [0, -1, -1, -2, -3, -1];
    console.log(maxSubArray(arr));
</script>